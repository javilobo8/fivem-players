"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
function tryParse(value, type) {
    if (typeof value === 'undefined') {
        return undefined;
    }
    return type(value);
}
function mergeConfig(base, conf) {
    const keys = Object.keys(base);
    const newConfig = Object.assign({}, base);
    for (const key of keys) {
        if (typeof conf[key] !== 'undefined') {
            newConfig[key] = conf[key];
        }
    }
    return newConfig;
}
const defaultConfig = {
    port: 8000,
    refreshInterval: 3 * 1000,
    maxPlayers: 32,
    socketHost: `http://localhost:${8000}`,
};
const config = {
    port: tryParse(process.env.PORT, Number),
    refreshInterval: tryParse(process.env.REFRESH_INTERVAL, Number),
    maxPlayers: tryParse(process.env.MAX_PLAYERS, Number),
    socketHost: tryParse(process.env.SOCKET_HOST, String),
};
exports.default = mergeConfig(defaultConfig, config);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29uZmlnLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL2NvbmZpZy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUVBLFNBQVMsUUFBUSxDQUFDLEtBQWEsRUFBRSxJQUFTO0lBQ3hDLElBQUksT0FBTyxLQUFLLEtBQUssV0FBVyxFQUFFO1FBQ2hDLE9BQU8sU0FBUyxDQUFDO0tBQ2xCO0lBRUQsT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7QUFDckIsQ0FBQztBQUVELFNBQVMsV0FBVyxDQUFDLElBQWEsRUFBRSxJQUFpQjtJQUNuRCxNQUFNLElBQUksR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQy9CLE1BQU0sU0FBUyxxQkFBWSxJQUFJLENBQUMsQ0FBQztJQUVqQyxLQUFLLE1BQU0sR0FBRyxJQUFJLElBQUksRUFBRTtRQUN0QixJQUFJLE9BQU8sSUFBSSxDQUFDLEdBQUcsQ0FBUSxLQUFLLFdBQVcsRUFBRTtZQUMzQyxTQUFTLENBQUMsR0FBRyxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1NBQzVCO0tBQ0Y7SUFFRCxPQUFPLFNBQVMsQ0FBQztBQUNuQixDQUFDO0FBRUQsTUFBTSxhQUFhLEdBQVk7SUFDN0IsSUFBSSxFQUFFLElBQUk7SUFDVixlQUFlLEVBQUUsQ0FBQyxHQUFHLElBQUk7SUFDekIsVUFBVSxFQUFFLEVBQUU7SUFDZCxVQUFVLEVBQUUsb0JBQW9CLElBQUksRUFBRTtDQUN2QyxDQUFDO0FBRUYsTUFBTSxNQUFNLEdBQVk7SUFDdEIsSUFBSSxFQUFFLFFBQVEsQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxNQUFNLENBQUM7SUFDeEMsZUFBZSxFQUFFLFFBQVEsQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLGdCQUFnQixFQUFFLE1BQU0sQ0FBQztJQUMvRCxVQUFVLEVBQUUsUUFBUSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsV0FBVyxFQUFFLE1BQU0sQ0FBQztJQUNyRCxVQUFVLEVBQUUsUUFBUSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsV0FBVyxFQUFFLE1BQU0sQ0FBQztDQUN0RCxDQUFDO0FBRUYsa0JBQWUsV0FBVyxDQUFDLGFBQWEsRUFBRSxNQUFNLENBQVksQ0FBQyJ9